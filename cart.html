<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>סל קניות</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&family=Fredoka:wght@300..700&display=swap" rel="stylesheet">
    <style>
        /* ... (שאר הסגנונות CSS הקיימים) ... */
        #payment-info {
            background-color: #fff;
            border: 1px solid #ddd;
            padding: 20px;
            width: 80%;
            max-width: 600px;
            margin-bottom: 20px;
            text-align: right;
        }
        #payment-info h2 {
            font-family: 'Amatic SC', cursive;
            color: #333;
            border-bottom: 1px solid #ccc;
            padding-bottom: 5px;
            margin-bottom: 10px;
            text-align: center;
            font-weight: 700;
            font-size: 2em;
        }
        .form-group {
            margin-bottom: 10px;
            display: flex;
            flex-direction: column;
        }
        .form-group label {
            margin-bottom: 5px;
        }
        .form-group input {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-family: 'Fredoka', sans-serif;
        }
        #checkout-button {
            /* ... (סגנונות קיימים) ... */
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>סל קניות</h1>
    <div id="cart-actions">
        <button class="clear-cart-button" onclick="clearCart()">רוקן סל</button>
    </div>
    <div id="cart-items-container">
        <p>סל הקניות ריק.</p>
    </div>
    <div id="cart-total"></div>

    <div id="shipping-info">
        <h2>פרטי משלוח</h2>
        <div class="form-group">
            <label for="fullName">שם מלא:</label>
            <input type="text" id="fullName" name="fullName" required>
        </div>
        <div class="form-group">
            <label for="address">כתובת:</label>
            <input type="text" id="address" name="address" required>
        </div>
        <div class="form-group">
            <label for="city">עיר:</label>
            <input type="text" id="city" name="city" required>
        </div>
        <div class="form-group">
            <label for="zipCode">מיקוד:</label>
            <input type="text" id="zipCode" name="zipCode">
        </div>
        <div class="form-group">
            <label for="phone">טלפון:</label>
            <input type="tel" id="phone" name="phone" required>
        </div>
    </div>

    <div id="payment-info">
        <h2>פרטי תשלום</h2>
        <div class="form-group">
            <label for="cardNumber">מספר כרטיס אשראי:</label>
            <input type="text" id="cardNumber" name="cardNumber" placeholder="XXXX-XXXX-XXXX-XXXX" required>
        </div>
        <div class="form-group">
            <label for="expiryDate">תוקף:</label>
            <input type="text" id="expiryDate" name="expiryDate" placeholder="MM/YY" required>
        </div>
        <div class="form-group">
            <label for="cvv">CVV:</label>
            <input type="text" id="cvv" name="cvv" placeholder="XXX" required>
        </div>
        <div class="form-group">
            <label for="cardholderName">שם בעל הכרטיס:</label>
            <input type="text" id="cardholderName" name="cardholderName" required>
        </div>
    </div>

    <button id="checkout-button" onclick="checkout()">בצע הזמנה</button>

    <p class="back-link"><a href="index.html">חזרה לתפריט</a></p>

    <script>
        // ... (שאר קוד ה-JavaScript הקיים) ...

        // פונקציה לביצוע ההזמנה (מעודכנת לכלול פרטי תשלום - רק הדגמה)
        function checkout() {
            const cart = getCart();
            const fullName = document.getElementById('fullName').value;
            const address = document.getElementById('address').value;
            const city = document.getElementById('city').value;
            const zipCode = document.getElementById('zipCode').value;
            const phone = document.getElementById('phone').value;

            const cardNumber = document.getElementById('cardNumber').value;
            const expiryDate = document.getElementById('expiryDate').value;
            const cvv = document.getElementById('cvv').value;
            const cardholderName = document.getElementById('cardholderName').value;

            let total = 0;
            cart.forEach(item => {
                total += (item.price * (item.quantity || 1));
            });

            if (cart.length > 0 && fullName && address && city && phone && cardNumber && expiryDate && cvv && cardholderName) {
                const orderDetails = {
                    items: cart,
                    shippingInfo: {
                        fullName: fullName,
                        address: address,
                        city: city,
                        zipCode: zipCode,
                        phone: phone
                    },
                    paymentInfo: {
                        cardNumber: cardNumber,
                        expiryDate: expiryDate,
                        cvv: cvv,
                        cardholderName: cardholderName
                    },
                    total: total
                };
                console.log("פרטי ההזמנה:", orderDetails);
                alert(`ההזמנה בוצעה בהצלחה!\nסך הכל: ${total} ש"ח\nשם: ${fullName}\nכתובת: ${address}, ${city}\nפרטי תשלום: ****-****-****-${cardNumber.slice(-4)}`);
                localStorage.removeItem('cart'); // נקה את הסל לאחר ביצוע ההזמנה (לצורך הדגמה)
                displayCartItems(); // עדכן את תצוגת הסל
                // כאן, ביישום אמיתי, הייתם שולחים את פרטי ההזמנה לשרת מאובטח ולשירות תשלומים
            } else {
                alert("אנא מלאו את כל פרטי המשלוח והתשלום והוסיפו פריטים לסל לפני ביצוע ההזמנה.");
            }
        }

        // ... (שאר קוד ה-JavaScript הקיים) ...
    </script>
</body>
</html>
